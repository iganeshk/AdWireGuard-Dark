diff --git a/scripts/make/build-release.sh b/scripts/make/build-release.sh
index 1c8cb9c0..e4b2f916 100644
--- a/scripts/make/build-release.sh
+++ b/scripts/make/build-release.sh
@@ -110,7 +110,7 @@ log "checking tools"
 # Make sure we fail gracefully if one of the tools we need is missing.  Use
 # alternatives when available.
 use_shasum='0'
-for tool in gpg gzip sed sha256sum snapcraft tar zip
+for tool in gpg gzip sed sha256sum tar zip
 do
 	if ! command -v "$tool" > /dev/null
 	then
diff --git a/scripts/make/version.sh b/scripts/make/version.sh
index 68e84e9c..e3ac1e17 100644
--- a/scripts/make/version.sh
+++ b/scripts/make/version.sh
@@ -75,7 +75,12 @@ case "$channel"
 in
 ('development')
 	# Use the dummy version for development builds.
-	version='v0.0.0'
+	version="${VERSION:-1}"
+	if [ "$version" = '' ]
+	then
+		version='v0.0.0'
+	fi
+	readonly version
 	;;
 ('edge')
 	# last_minor_zero is the last new minor release.
@@ -128,7 +133,7 @@ in
 esac
 
 # Finally, make sure that we don't output invalid versions.
-if ! echo "$version" | grep -E -e '^v[0-9]+\.[0-9]+\.[0-9]+(-[ab]\.[0-9]+)?(\+[[:xdigit:]]+)?$' -q
+if ! echo "$version" | grep -E -e '^v[0-9]+\.[0-9]+\.[0-9]+(-[ab]\.[0-9]+)?(\-[[:alnum:]]+)?$' -q
 then
 	echo "generated an invalid version '$version'" 1>&2
 
